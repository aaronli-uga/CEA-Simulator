<!DOCTYPE html>
{% load static %}



<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="{% static "images/s.jpg" %}"/>
  <link rel="icon" type="image/png" href="{% static "images/ts.png" %}"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>Simulator</title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <!-- <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" /> -->
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" /> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
  <!-- CSS Files -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"/>
  <link href="{% static "css/input.css" %}" rel="stylesheet"/>
  <link href="{% static "css/bootstrap.min.css" %}" rel="stylesheet" />
  <link href="{% static "css/light-bootstrap-dashboard.css" %}" rel="stylesheet" />




</head>

<body>
  <div class="wrapper">
    <div class="sidebar">
      <!--
      Tip 1: You can change the color of the sidebar using: data-color="purple | blue | green | orange | red"

      Tip 2: you can also add an image using data-image tag
    -->
    <div class="sidebar-wrapper">
      <div class="logo">
        <a href="" class="simple-text logo-mini">
          <div class="logo-img">
            <img src="{% static "images/tom.jpg" %}"/>
          </div>
        </a>
        <a href="" class="simple-text logo-normal">
          TOMATO SIMULATOR
        </a>
      </div>
      <div class="user">
        <div class="photo">
          <img src="{% static "images/s.jpg" %}" />
        </div>
        <div class="info ">
          <a data-toggle="collapse" href="#collapseExample" class="collapsed">
            <span>Simulator
              <b class="caret"></b>
            </span>
          </a>
          <div class="collapse" id="collapseExample">
            <ul class="nav">

              <li>
                <a class="profile-dropdown" href="#pablo">
                  <span class="sidebar-mini">AU</span>
                  <span class="sidebar-normal">About Us</span>
                </a>
              </li>
              <li>
                <a class="profile-dropdown" href="#pablo">
                  <span class="sidebar-mini">CU</span>
                  <span class="sidebar-normal">Contact Us</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <ul class="nav">
        <li class="nav-item">
          <a class="nav-link" href="{% url "index" %}">
            <i class="fa fa-fw fa-home"></i>
            <p>Home</p>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="{% url "grafana" %}">
            <i class="fa fa-fw fa-line-chart"></i>
            <p>Grafana</p>
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div class="main-panel">
  <!-- End Navbar -->
    <!-- <div class="content">
    <div class="container-fluid">
    <div class="row">
    <div class="col-lg-3 col-sm-6">
    <div class="card card-stats">
    <div class="card-body ">
    <div class="row">
    <div class="col-5">
    <div class="icon-big text-center icon-warning">
    <i class="nc-icon nc-chart text-warning"></i>
  </div>
</div>
<div class="col-7">
<div class="numbers">
<p class="card-category">Number</p>
<h4 class="card-title">150GB</h4>
</div>
</div>
</div>
</div>
<div class="card-footer ">
<hr>
<div class="stats">
<i class="fa fa-refresh"></i> Update Now
</div>
</div>
</div>
</div>
<div class="col-lg-3 col-sm-6">
<div class="card card-stats">
<div class="card-body ">
<div class="row">
<div class="col-5">
<div class="icon-big text-center icon-warning">
<i class="nc-icon nc-light-3 text-success"></i>
</div>
</div>
<div class="col-7">
<div class="numbers">
<p class="card-category">Revenue</p>
<h4 class="card-title">$ 1,345</h4>
</div>
</div>
</div>
</div>
<div class="card-footer ">
<hr>
<div class="stats">
<i class="fa fa-calendar-o"></i> Last day
</div>
</div>
</div>
</div>
<div class="col-lg-3 col-sm-6">
<div class="card card-stats">
<div class="card-body ">
<div class="row">
<div class="col-5">
<div class="icon-big text-center icon-warning">
<i class="nc-icon nc-vector text-danger"></i>
</div>
</div>
<div class="col-7">
<div class="numbers">
<p class="card-category">Errors</p>
<h4 class="card-title">23</h4>
</div>
</div>
</div>
</div>
<div class="card-footer ">
<hr>
<div class="stats">
<i class="fa fa-clock-o"></i> In the last hour
</div>
</div>
</div>
</div>
<div class="col-lg-3 col-sm-6">
<div class="card card-stats">
<div class="card-body ">
<div class="row">
<div class="col-5">
<div class="icon-big text-center icon-warning">
<i class="nc-icon nc-favourite-28 text-primary"></i>
</div>
</div>
<div class="col-7">
<div class="numbers">
<p class="card-category">Followers</p>
<h4 class="card-title">+45K</h4>
</div>
</div>
</div>
</div>
<div class="card-footer ">
<hr>
<div class="stats">
<i class="fa fa-refresh"></i> Update now
</div>
</div>
</div>
</div>
</div> -->
<div class="row">
  <div class="col-md-12">
    <div class="card ">
      <div class="card-header ">
        <h4 class="card-title">   Enter Data to Run Simulation</h4>
        <!-- <p class="card-category">  For locations in USA</p> -->
      </div>
      <div class="card-body ">
        <div class="form-group">
          <div class="row">
            <form id="dateform"  method="GET">
              <!-- <label for="date">DATE(FROM)</label> -->

              <!-- <label>TEMPERATURE  :</label> -->
              <span>
                <input class="slide-up" type="number" id="temp" name="TEMPERATURE" placeholder="Celsius" required>
                <label for="temp">TEMPERATURE</label>
              </span>
                  <!-- <label>CO2  :</label> -->
                  <span>
                    <input class="slide-up" type="number" id="co2" name="CO2" placeholder="mg/m^2 .s" required>
                    <label for="co2">CO2</label>
                  </span>
                  <span>
                    <input class="slide-up" type="text" id="locationid" name="locationid" placeholder="Click on the map" required>
                    <label for="locationid">Location ID</label>
                  </span>
                  <br><br>
                  <!-- <label>Location ID  :</label> -->
                  <span>
                    <input class="slide-up" type="date" id="datefrom" name="datefrom" placeholder="DATE" required>
                    <label for="date">FROM</label>
                  </span>
                  <!-- <label for="date">DATE(TO)  :</label> -->
                  <span>
                    <input class="slide-up" type="date" id="dateto" name="dateto" placeholder="DATE" required>
                    <label for="date">TO</label>
                  </span>
                  <!-- <input class="btn btn-round btn-sm" style="text-align:center;" type="submit" value="send"> -->
                <!-- </form> -->
                </div>
              </div>
              <div class="row">
                <!-- <div class="col-md-5"> -->

                <!-- </div> -->

                <div class="col-md-7 ml-auto mr-auto">
                  <div class="card">
                    <div class="content">
                      <div id="regularMap" class="map"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div>
                <button class="btn btn-fill" style="text-align:center; margin:0 auto" type="submit" value="Run Simulation">
                <span class="btn-label">
                  <i class="fa fa-fw fa-play">
                  </i>
                </span>
                Run Simulation
              </button>
            </form>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
<footer class="footer">
  <div class="container">
    <nav>
      <ul class="footer-menu">
        <li>
          <a href="#">
            Home
          </a>
        </li>
        <li>
          <a href="#">
            Company
          </a>
        </li>
        <li>
          <a href="#">
            Portfolio
          </a>
        </li>
        <li>
          <a href="#">
            Blog
          </a>
        </li>
      </ul>
    </nav>
  </div>
</footer>
</div>
</div>



<!--   Core JS Files   -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script src="{% static "js/jquery.3.2.1.min.js" %}" type="text/javascript"></script>
<script src="{% static "js/popper.min.js" %}" type="text/javascript"></script>
<script src="{%static "js/bootstrap.min.js" %}" type="text/javascript"></script>

<script src="{%static "js/plugins/bootstrap-switch.js" %}"></script>
<!--  Google Maps Plugin    -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC4zFu21100O5IFoQoKWJ8FiYT1zWo0Xd0"></script>
<!--  Chartist Plugin  -->
<script src="{%static "js/plugins/chartist.min.js" %}"></script>
<!--  Notifications Plugin    -->
<script src="{%static "js/plugins/bootstrap-notify.js" %}"></script>
<!--  jVector Map  -->
<script src="{%static "js/plugins/jquery-jvectormap.js" %}" type="text/javascript"></script>
<!--  Plugin for Date Time Picker and Full Calendar Plugin-->
<script src="{%static "js/plugins/moment.min.js" %}"></script>
<!--  DatetimePicker   -->
<script src="{%static "js/plugins/bootstrap-datetimepicker.js" %}"></script>
<!--  Sweet Alert  -->
<!-- <script src="{% static "js/plugins/sweetalert2.min.js" %}" type="text/javascript"></script> -->
<!--  Tags Input  -->
<script src="{%static "js/plugins/bootstrap-tagsinput.js" %}" type="text/javascript"></script>
<!--  Sliders  -->
<script src="{%static "js/plugins/nouislider.js" %}" type="text/javascript"></script>
<!--  Bootstrap Select  -->
<script src="{%static "js/plugins/bootstrap-selectpicker.js" %}" type="text/javascript"></script>
<!--  jQueryValidate  -->
<script src="{%static "js/plugins/jquery.validate.min.js" %}" type="text/javascript"></script>
<!--  Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard -->
<script src="{%static "js/plugins/jquery.bootstrap-wizard.js" %}"></script>
<!--  Bootstrap Table Plugin -->
<script src="{%static "js/plugins/bootstrap-table.js" %}"></script>
<!--  DataTable Plugin -->
<script src="{%static "js/plugins/jquery.dataTables.min.js" %}"></script>
<!--  Full Calendar   -->
<script src="{%static "js/plugins/fullcalendar.min.js" %}"></script>
<!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
<script src="{%static "js/light-bootstrap-dashboard.js" %}" type="text/javascript"></script>
<!-- Light Dashboard DEMO methods, don't include it in your project! -->
<script src="{%static "js/demo.js" %}"></script>
<!-- <script src="{%static "js/iframe.js" %}" type="text/javascript"></script> -->
<script src="https://unpkg.com/react@16.4.1/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@16.4.1/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>

<script type="text/javascript">
function assignlocation(locid){
  var input = document.getElementById("locationid");
  var str1=locid;
  // var str2="_";
  input.value=str1;
  input.innerHTML =
  "Value = " + "'" + input.value + "'";
}
</script>
<script type="text/javascript">
function initMap() {
  var myLatlng = new google.maps.LatLng(37.09024, -95.712891);
  var mapOptions = {
    zoom: 4,
    center: myLatlng,
    scrollwheel: false, //we disable de scroll over the map, it is a really annoing when you scroll through page
  }

  var map = new google.maps.Map(document.getElementById("regularMap"), mapOptions);

  geojson_url = 'https://raw.githubusercontent.com/eyeshu15/DjangoSimulator/master/influxdb/Final.geojson'
  map.data.loadGeoJson(geojson_url, null, loadMarkers)
  map.data.setMap(null);

  function loadMarkers() {

    var infoWindow = new google.maps.InfoWindow;
    map.data.forEach(function(feature) {
      // geojson format is [longitude, latitude] but google maps marker position attribute
      // expects [latitude, longitude]

      var latitude = feature.getGeometry().get().lat()
      var longitude = feature.getGeometry().get().lng()
      var titleText = feature.getProperty('Location ID');
      var infowincontent = document.createElement('div');
      var strong = document.createElement('strong');
      strong.textContent = titleText;
      infowincontent.appendChild(strong);
      infowincontent.appendChild(document.createElement('br'));


      var marker = new google.maps.Marker({
        position: {lat: latitude, lng:longitude},
        map: map,
      });
      marker.addListener('click', function() {

        infoWindow.close();
        infoWindow.setContent('<button onclick="assignlocation(this.value)" value='+titleText+'>'+titleText+'</button>');
        infoWindow.open(map, marker);
      });

    });

  }
}

google.maps.event.addDomListener(window, 'load', initMap);


</script>



</body>
</html>
