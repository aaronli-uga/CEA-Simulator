<!DOCTYPE html>
{% load static %}



<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="{% static "images/s.jpg" %}"/>
  <link rel="icon" type="image/png" href="{% static "images/ts.png" %}"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>Simulator</title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
  <!-- CSS Files -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"/>
  <link href="{% static "css/input.css" %}" rel="stylesheet"/>
  <link href="{% static "css/bootstrap.min.css" %}" rel="stylesheet" />
  <link href="{% static "css/light-bootstrap-dashboard.css" %}" rel="stylesheet" />




</head>

<body>
  <div class="wrapper">

    <div class="sidebar">

    <div class="sidebar-wrapper">
      <div class="logo">
        <a href="" class="simple-text logo-mini">
          <div class="logo-img">
            <img src="{% static "images/logoimg.jpeg" %}"/>
          </div>
        </a>
        <a href="" class="simple-text logo-normal">
          CEA SIMULATOR
        </a>
      </div>
      <div class="user">
        <div class="photo">
          <img src="{% static "images/s.jpeg" %}" />
        </div>
        <div class="info ">
          <a data-toggle="collapse" href="#collapseExample" class="collapsed">
            <span>TOMSIM
              <b class="caret"></b>
            </span>
          </a>
          <div class="collapse" id="collapseExample">
            <ul class="nav">

              <li>
                <a class="profile-dropdown" href="#pablo">
                  <span class="sidebar-mini">MP</span>
                  <span class="sidebar-normal">My Profile</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <ul class="nav">
        <li class="nav-item">
          <a class="nav-link" href="{% url "mainpage" %}">
            <i class="fa fa-fw fa-home"></i>
            <p>Home</p>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="{% url "mappage" %}">
            <i class="fa fa-toggle-right"></i>
            <p>CROP GROWTH</p>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="{% url "energymodel" %}">
            <i class="fa fa-line-chart"></i>
            <p>ENERGY MODEL</p>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="{% url "energysupply" %}">
            <i class="fa fa-industry"></i>
            <p>ENERGY SUPPLY</p>
          </a>
        </li>
      </ul>
    </div>
  </div>


  <div class="main-panel">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg ">
      <div class="container-fluid">
        <div class="navbar-wrapper">
          <div class="navbar-minimize">
            <button id="minimizeSidebar" class="btn btn-warning btn-fill btn-round btn-icon d-none d-lg-block">
              <i class="fa fa-ellipsis-v visible-on-sidebar-regular"></i>
              <i class="fa fa-navicon visible-on-sidebar-mini"></i>
            </button>
          </div>
          <a class="navbar-brand" href="#pablo">Simulator </a>
        </div>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-bar burger-lines"></span>
          <span class="navbar-toggler-bar burger-lines"></span>
          <span class="navbar-toggler-bar burger-lines"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end">
          <ul class="nav navbar-nav mr-auto">
          </ul>
          <ul class="navbar-nav">
            <li class="dropdown nav-item">
              <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                <i class="nc-icon nc-planet"></i>
              </a>
              <ul class="dropdown-menu">
                <a class="dropdown-item" href="#">Create New Post</a>
                <a class="dropdown-item" href="#">Manage Something</a>
                <a class="dropdown-item" href="#">Do Nothing</a>
                <a class="dropdown-item" href="#">Submit to live</a>
                <li class="divider"></li>
                <a class="dropdown-item" href="#">Another action</a>
              </ul>
            </li>
            <li class="dropdown nav-item">
              <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                <i class="nc-icon nc-bell-55"></i>
                <span class="notification">5</span>
                <span class="d-lg-none">Notification</span>
              </a>
              <ul class="dropdown-menu">
                <a class="dropdown-item" href="#">Notification 1</a>
                <a class="dropdown-item" href="#">Notification 2</a>
                <a class="dropdown-item" href="#">Notification 3</a>
                <a class="dropdown-item" href="#">Notification 4</a>
                <a class="dropdown-item" href="#">Notification 5</a>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="nc-icon nc-bullet-list-67"></i>
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="#">
                  <i class="nc-icon nc-email-85"></i> Messages
                </a>
                <a class="dropdown-item" href="#">
                  <i class="nc-icon nc-umbrella-13"></i> Help Center
                </a>
                <a class="dropdown-item" href="#">
                  <i class="nc-icon nc-settings-90"></i> Settings
                </a>
                <div class="divider"></div>
                <a class="dropdown-item" href="#">
                  <i class="nc-icon nc-lock-circle-open"></i> Lock Screen
                </a>
                <a href="{% url "logout_view" %}" class="dropdown-item text-danger">
                  <i class="nc-icon nc-button-power"></i> Log out
                </a>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- End Navbar -->

<div class="row">
  <div class="col-md-12">
    <div class="card ">
      <div class="card-header ">
        <h4 class="card-title">   Enter Data to Run Simulation</h4>
        <!-- <p class="card-category">  For locations in USA</p> -->
      </div>
      <div class="card-body ">
        <div class="form-group">
          <div class="row">
            <form action="{% url 'mappage' %}" id="dateform"  method="GET">
              <!-- <label for="date">DATE(FROM)</label> -->

              <!-- <label>TEMPERATURE  :</label> -->
              <span>
                <input class="slide-up" type="number" id="temp" name="TEMPERATURE" placeholder="Celsius" required>
                <label for="temp">TEMPERATURE</label>
              </span>
                  <!-- <label>CO2  :</label> -->
                  <span>
                    <input class="slide-up" type="number" id="co2" name="CO2" placeholder="mg/m^2 .s" required>
                    <label for="co2">CO2</label>
                  </span>
                  <span>
                    <input class="slide-up" type="text" id="locationid" name="locationid" placeholder="Click on the map" required>
                    <label for="locationid">Location ID</label>
                  </span>
                  <br><br>
                  <!-- <label>Location ID  :</label> -->
                  <span>
                    <input class="slide-up" type="date" id="datefrom" name="datefrom" placeholder="DATE" required>
                    <label for="date">FROM</label>
                  </span>
                  <!-- <label for="date">DATE(TO)  :</label> -->
                  <span>
                    <input class="slide-up" type="date" id="dateto" name="dateto" placeholder="DATE" required>
                    <label for="date">TO</label>
                  </span>
                  <!-- <input class="btn btn-round btn-sm" style="text-align:center;" type="submit" value="send"> -->
                <!-- </form> -->
                </div>
              </div>
              <div class="row">
                <!-- <div class="col-md-5"> -->

                <!-- </div> -->

                <div class="col-md-7 ml-auto mr-auto">
                  <div class="card">
                    <div class="content">
                      <div id="regularMap" class="map"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div>
                <button class="btn btn-fill" style="text-align:center; margin:0 auto" type="submit" value="Run Simulation">
                <span class="btn-label">
                  <i class="fa fa-fw fa-play">
                  </i>
                </span>
                Run Simulation
              </button>
            </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <nav>
          <p class="copyright text-center">
            Â©
            <!-- <script>
              document.write(new Date().getFullYear())
            </script> -->
            <a>TOMSIM Model</a>, developed by Ep Heuvelink
            </p>
        </nav>
      </div>
    </footer>
  </div>
</div>
<!-- <footer class="footer">
  <div class="container">
    <nav>
      <ul class="footer-menu">
        <li>
          <a href="#">
            Home
          </a>
        </li>
        <li>
          <a href="#">
            Company
          </a>
        </li>
        <li>
          <a href="#">
            Portfolio
          </a>
        </li>
        <li>
          <a href="#">
            Blog
          </a>
        </li>
      </ul>
    </nav>
  </div>
</footer> -->




<!--   Core JS Files   -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script src="{% static "js/jquery.3.2.1.min.js" %}" type="text/javascript"></script>
<script src="{% static "js/popper.min.js" %}" type="text/javascript"></script>
<script src="{%static "js/bootstrap.min.js" %}" type="text/javascript"></script>

<script src="{%static "js/plugins/bootstrap-switch.js" %}"></script>
<!--  Google Maps Plugin    -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC4zFu21100O5IFoQoKWJ8FiYT1zWo0Xd0"></script>

<script src="https://unpkg.com/react@16.4.1/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@16.4.1/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>

<script type="text/javascript">
function assignlocation(locid){
  var input = document.getElementById("locationid");
  var str1=locid;
  // var str2="_";
  input.value=str1;
  input.innerHTML =
  "Value = " + "'" + input.value + "'";
}
</script>
<script type="text/javascript">
function initMap() {
  var myLatlng = new google.maps.LatLng(37.09024, -95.712891);
  var mapOptions = {
    zoom: 4,
    center: myLatlng,
    scrollwheel: false, //we disable de scroll over the map, it is a really annoing when you scroll through page
  }

  var map = new google.maps.Map(document.getElementById("regularMap"), mapOptions);

  geojson_url = 'https://raw.githubusercontent.com/eyeshu15/DjangoSimulator/master/influxdb/Final.geojson'
  map.data.loadGeoJson(geojson_url, null, loadMarkers)
  map.data.setMap(null);

  function loadMarkers() {

    var infoWindow = new google.maps.InfoWindow;
    map.data.forEach(function(feature) {
      // geojson format is [longitude, latitude] but google maps marker position attribute
      // expects [latitude, longitude]

      var latitude = feature.getGeometry().get().lat()
      var longitude = feature.getGeometry().get().lng()
      var titleText = feature.getProperty('Location ID');
      var infowincontent = document.createElement('div');
      var strong = document.createElement('strong');
      strong.textContent = titleText;
      infowincontent.appendChild(strong);
      infowincontent.appendChild(document.createElement('br'));


      var marker = new google.maps.Marker({
        position: {lat: latitude, lng:longitude},
        map: map,
      });
      marker.addListener('click', function() {

        infoWindow.close();
        infoWindow.setContent('<button onclick="assignlocation(this.value)" value='+titleText+'>'+titleText+'</button>');
        infoWindow.open(map, marker);
      });

    });

  }
}

google.maps.event.addDomListener(window, 'load', initMap);


</script>



</body>
</html>
